<!DOCTYPE html>
<html>
    <head>
        <title>Contact Form</title>
        <link rel="stylesheet" href="styles/main.css">
        <link rel="stylesheet" href="styles/contact.css">
    </head>
    <body>
        <h1>Contact Form</h1>
        <div>
            <ul>
                <li>
                    <a class="home_link" href="home.html">Home</a>
                </li>
            </ul>
        </div>
        <form  name="myForm" action="records.php" method="get" onsubmit="return validateForm()">
            <div class="form-group">
                <label class="form-control" for="firstName">First Name</label>
                    <input type="text" id="firstName" name="firstName"><br>
                <label class="form-control" for="lastName">Last Name</label>
                    <input type="text" id="lastName" name="lastName"><br>
                <label class="form-control" for="address">Address</label>
                    <input type="text" id="address" name="address"><br>
                <label class="form-control" for="city">City</label>
                    <input type="text" id="city" name="city"><br>
                <label class="form-control" for="province">Province</label>
                    <input type="text" id="province" name="province"><br>
                <label class="form-control" for="postalCode">Postal Code</label>
                    <input type="text" id="postalCode" name="postalCode"><br>
                <label class="form-control" for="phoneNumber">Phone Number</label>
                    <input type="text" id="phoneNumber" name="phoneNumber"><br>
                <label class="form-control" for="email">Email Address</label>
                    <input type="text" id="email" name="email"><br>
                <label class="form-control" for="notes">Notes</label>
                    <input type="text" id="notes" name="notes"><br>
                <input class="button" type="submit" />
                <input class="button" type="button" value="Display" id="submit" onclick="SaveToStorage()" />
            </div>
        </form>
            <div id="result">
                <table border="2px solid">
                    <th>FirstName</th>
                    <th>LastName</th>
                    <th>Address</th>
                    <th>City</th>
                    <th>Province</th>
                    <th>Postal Code</th>
                    <th>Phone Number</th>
                    <th>Email</th>
                    <th>Notes</th>
                    <tr>
                        <td><div id="firstNameResult"></div></td>
                        <td><div id="lastNameResult"></div></td>
                        <td><div id="addressResult"></div></td>
                        <td><div id="cityResult"></div></td>
                        <td><div id="provinceResult"></div></td>
                        <td><div id="postalCodeResult"></div></td>
                        <td><div id="phoneNumberResult"></div></td>
                        <td><div id="emailResult"></div></td>
                        <td><div id="notesResult"></div></td>
                    </tr>
                </table>
            </div>
            <footer>&copy; 2021 Sachita Patel</footer>
        <script>
            function SaveToStorage()
            {
                if (typeof(Storage) !== "undefined") 
                {
                    var firstNameValue = document.getElementById("firstName").value;
                    var lastNameValue = document.getElementById("lastName").value;
                    var addressValue = document.getElementById("address").value;
                    var cityValue = document.getElementById("city").value;
                    var provinceValue = document.getElementById("province").value;
                    var postalCodeValue = document.getElementById("postalCode").value;
                    var phoneNumberValue = document.getElementById("phoneNumber").value;
                    var emailValue = document.getElementById("email").value;
                    var notesValue = document.getElementById("notes").value;
                    
                    localStorage.setItem("firstName", firstNameValue);
                    document.getElementById("firstNameResult").innerHTML = localStorage.firstName;
                    localStorage.setItem("lastName", lastNameValue);
                    document.getElementById("lastNameResult").innerHTML = localStorage.lastName;
                    localStorage.setItem("address", addressValue);
                    document.getElementById("addressResult").innerHTML = localStorage.address;
                    localStorage.setItem("city", cityValue);
                    document.getElementById("cityResult").innerHTML = localStorage.city;
                    localStorage.setItem("province", provinceValue);
                    document.getElementById("provinceResult").innerHTML = localStorage.province;
                    localStorage.setItem("postalCode", postalCodeValue);
                    document.getElementById("postalCodeResult").innerHTML = localStorage.postalCode;
                    localStorage.setItem("phoneNumber", phoneNumberValue);
                    document.getElementById("phoneNumberResult").innerHTML = localStorage.phoneNumber;
                    localStorage.setItem("email", emailValue);
                    document.getElementById("emailResult").innerHTML = localStorage.email;
                    localStorage.setItem("notes", notesValue);
                    document.getElementById("notesResult").innerHTML = localStorage.notes;
                } 
            else 
                {
                    document.getElementById("result").innerHTML = "Sorry, your browser does not support Web Storage...";
                }
            }

            function display()
            {
                document.getElementById("firstNameResult").innerHTML = document.getElementById("firstName").value; 
                document.getElementById("firstName").value = "";
                document.getElementById("lastNameResult").innerHTML = document.getElementById("lastName").value; 
                document.getElementById("lastName").value = "";
                document.getElementById("addressResult").innerHTML = document.getElementById("address").value; 
                document.getElementById("address").value = "";
                document.getElementById("cityResult").innerHTML = document.getElementById("city").value; 
                document.getElementById("city").value = "";
                document.getElementById("provinceResult").innerHTML = document.getElementById("province").value; 
                document.getElementById("province").value = "";
                document.getElementById("postalCodeResult").innerHTML = document.getElementById("postalCode").value; 
                document.getElementById("postalCode").value = "";
                document.getElementById("phoneNumberResult").innerHTML = document.getElementById("phoneNumber").value; 
                document.getElementById("phoneNumber").value = "";
                document.getElementById("emailResult").innerHTML = document.getElementById("email").value; 
                document.getElementById("email").value = "";
                document.getElementById("notesResult").innerHTML = document.getElementById("notes").value; 
                document.getElementById("notes").value = "";

            }

            function validateForm()
            {
                let vFName = document.forms["myForm"]["firstName"].value;
                let vLName = document.forms["myForm"]["lastName"].value;
                let vAddress = document.forms["myForm"]["address"].value;
                let vCity = document.forms["myForm"]["city"].value;
                let vProvince = document.forms["myForm"]["province"].value;
                let vPostalCode = document.forms["myForm"]["postalCode"].value;
                let vPhoneNumber = document.forms["myForm"]["phoneNumber"].value;
                let vEmail = document.forms["myForm"]["email"].value;
                let vNotes = document.forms["myForm"]["notes"].value;


                if (vFName == "") {
                    alert("First Name must be filled out");
                    return false;
                }
                if (vLName == "") {
                    alert("Last Name must be filled out");
                    return false;
                }

                if (vAddress == "") {
                    alert("Address must be filled out");
                    return false;
                }

                if (vCity == "") {
                    alert("City must be filled out");
                    return false;
                }

                if (vProvince == "") {
                    alert("Province must be filled out");
                    return false;
                }

                if (vPostalCode == "") {
                    alert("Postal Code must be filled out");
                    return false;
                } else {
                    var regex = /^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$/;
                    if (regex.test(vPostalCode) == false) {
                        alert("Input Valid Canadian Postal Code.It should be NAN ANA format");
                        return false;
                    }
                }

                if (vPhoneNumber == "") {
                    alert("Phone Number must be filled out");
                    return false;
                } else {
                    var regex = /^\d{10}$/;
                    if (regex.test(vPhoneNumber) == false) {
                        alert("Input Valid 10 digit phone number. It should be xxx-xxx-xxxx format");
                        return false;
                    }
                }

                if (vEmail == "") {
                    alert("Email must be filled out");
                    return false;
                }

                if (vNotes == "") {
                    alert("Notes must be filled out");
                    return false;
                }
            }
           
        </script>
        
    </body>
</html>